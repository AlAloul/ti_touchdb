<Alloy>
  <Collection id="tasks" src="task" instance="true"/>
  <Window onOpen="windowOpen" onClose="windowClose">
    <RightNavButton>
      <Button title="Share" onClick="shareButtonAction"/>
    </RightNavButton>
    <ListView defaultItemTemplate="default">
      <Templates>
        <ItemTemplate name="default">
          <View layout="horizontal">
            <MaskedImage bindId="setImageButton" left="10" top="10" bottom="10" width="44" height="44" onClick="imageButtonAction" mask="/images/task_image_mask.png" mode="Ti.UI.iOS.BLEND_MODE_SOURCE_IN"/>
            <Label bindId="title" left="4" top="10" bottom="10"/>
          </View>
        </ItemTemplate>
      </Templates>
      <ListSection dataCollection="$.tasks" dataTransform="transform">
        <HeaderView>
          <View layout="horizontal" height="52">
            <MaskedImage id="addImageButton" left="10" top="10" bottom="10" width="44" height="44" onClick="addImageButtonAction"/>
            <TextField id="addItemTextField" left="4" right="16" top="10" bottom="10" borderStyle="NONE" hintText="Add Task" onReturn="textFieldShouldReturn" mask="/images/task_image_mask.png" mode="Ti.UI.iOS.BLEND_MODE_SOURCE_IN"/>
          </View>
        </HeaderView>
        <ListItem height="64" title:text="{title}" title:class="{class}" setImageButton:image="{image}"/>
      </ListSection>
    </ListView>
  </Window>
</Alloy>
