{
  "docs": [
    {
       "_id": "_design/books",
       "language": "javascript",
       "views": {
           "by_author": {
               "map": "function(doc) {\n  if (doc.author) {\n    emit(doc.author, null);\n  }\n}"
           },
           "by_published": {
               "map": "function(doc) {\n  if (doc.published && doc.published.length > 0) {\n    emit(doc.published[0], null);\n  }\n}"
           }
       }
    }
  ]
  
}
